<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-0.9.345">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Sam Verevis">

<title>Meaningful engagement on MyNZTE</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link id="quarto-text-highlighting-styles" href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<script src="index_files\libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="index_files\libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet">
<script src="index_files\libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="index_files\libs/wordcloud2-0.0.1/hover.js"></script>
<script src="index_files\libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Meaningful engagement on <em>MyNZTE</em></h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>





<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Sam Verevis </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<div class="cell">

</div>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>Understanding customer interaction can aid in the understanding of how customers engaged with the platform and drive strategic business decisions,</li>
<li>Over the 6 month period (March to August 2021), there were 3,700 business that used the <em>MyNZTE</em> platform, with 11,000 unique sessions across the period that averaged 15 minutes long per session (though this varies considerably),</li>
<li>With most users predominately based in the Manufacturing and Food and Beverage sectors.</li>
<li>Most customers use the <strong>Discover</strong> function and tend to spend their time frequently viewing articles and scrolling the <strong>Home</strong> and <strong>Discover</strong> landing,</li>
<li>User searches also tend to be centered around exports, Australia, China, growth, strategy and eCommerce.</li>
</ul>
</section>
<section id="mynzte-customer-engagement" class="level2">
<h2 class="anchored" data-anchor-id="mynzte-customer-engagement"><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#B5E5CF;overflow:visible;position:relative;"><path d="M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"></path></svg> <em>MyNZTE</em> Customer Engagement</h2>
<p>Understanding customer interactions through online platforms offers several key advantages in understanding how services provided are indeed, having the desired engagement you want. That is, website data can reveal how long customers spend on the site per session, how many of them ‘bounce’ after logging in, most frequently used functions or actions they take, and summarised search queries can reveal what might be ‘top of mind’ for your customers.</p>
<p>All of this readily available data can help guide website investment decisions, reveal how customers consume content, figure out current topics of interest, and identify where engagement might not be working as well.</p>
<p>Over the six months from March through to August of 2021, <em>MyNZTE</em> had about 11,000 unique customer sessions, which came from about 3,700 different organisations of which a third were the NZTE focus group. While the length of each session varied widely across the customer base (from 0 minutes to an entire day), the mid-point of each session across users was about 1 minute (see <a href="#fig-user">Figure&nbsp;1</a>). In combination, the bounce rate for the website across this period was about 23% - suggesting almost <em>80%</em> of <em>MyNZTE</em> users are engaging beyond a single page view, relative to 23% of the sessions, in which users left immediately after logging on.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-user" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-user-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 1: Number of user sessions over the 6 month period</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Given <em>MyNZTE</em> is a for business platform, user activity across the day occurs largely during the working hours (9am to 5pm), with most sessions occurring around the mid-morning (as shown by <a href="#fig-session-day-1">Figure&nbsp;2 (a)</a>), following a second peak post lunch. Most activity occurs across the working week, peaking on Thursday, with little activity occurring over the weekend (<a href="#fig-session-day-2">Figure&nbsp;2 (b)</a>).</p>
<div class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-session-day-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-session-day-1.png" class="img-fluid figure-img" data-ref-parent="fig-session-day" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">(a) Customer sessions across the week day</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-session-day-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-session-day-2.png" class="img-fluid figure-img" data-ref-parent="fig-session-day" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">(b) Customer sessions during time of day</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 2: Timeline of customer sessions over the 6 month period</figcaption><p></p>
</figure>
</div>
</section>
<section id="varying-levels-of-meanginful-engagement" class="level2">
<h2 class="anchored" data-anchor-id="varying-levels-of-meanginful-engagement"><svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#B5E5CF;overflow:visible;position:relative;"><path d="M475.115 163.781L336 252.309v-68.28c0-18.916-20.931-30.399-36.885-20.248L160 252.309V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56v400c0 13.255 10.745 24 24 24h464c13.255 0 24-10.745 24-24V184.029c0-18.917-20.931-30.399-36.885-20.248z"></path></svg> Varying levels of meanginful engagement</h2>
<p>While the number of industry based users are predominantly in manufacturing (35%), followed by food and beverage (28%), then tech (24%) and services (13%), the largest user activity comes from the food and beverage sector making up 42% of activity, then manufacturing (making up 33%). However, the tech and services industries users tend to be under-represented in activity relative to the total number of organisations on the platform (as shown in <a href="#fig-industry">Figure&nbsp;3</a>).</p>
<p>However, despite the lower user engagement from the services and tech businesses, the average time spent on the platform across sectors, doesn’t vary drastically, with tech and services spending the least amount of time on average (11 minutes) and food and beverages spending the most (about 15 minutes on average). Suggesting that, while <em>MyNZTE</em> might have the highest engagement from the food, beverage and manufacturing businesses, the platform is catering to the tech and service businesses needs.</p>
<div class="cell">

</div>
<div id="fig-industry" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<figure class="figure">
<img src="plot.png" title="Title: Number of sessions and average time spent per session (in seconds), by Inudstry" class="img-fluid figure-img">
</figure>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 3: industry</figcaption><p></p>
</figure>
</div>
<p><a href="#fig-session-groups">Figure&nbsp;4</a> shows the total number of times an organisation has engaged with the platform as well as total time spent by the two NZTE customer segments (Focus vs.&nbsp;Engaged) over the 6 month period. The focus group tends to repeatedly use the platform more, with an average log-in rate of 5.3 times per business over the 6 month period, compared to engaged businesses, who on average had a log-in rate of 2.5. This also corresponds to a higher session length time for the focus group, who tend to use <em>myNZTE</em> 14 minutes per session on average, compared to the engaged group, in which the central tendency was 9 minutes per session.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-session-groups" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-session-groups-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 4: Organisation uses vs time spent</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section>
<section id="understanding-the-mynzte-value-add" class="level2">
<h2 class="anchored" data-anchor-id="understanding-the-mynzte-value-add"><svg aria-hidden="true" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#B5E5CF;overflow:visible;position:relative;"><path d="M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"></path></svg> Understanding the <em>MyNZTE</em> value-add</h2>
<p>How customers spend their time on the platform reveals where they find the most value-add on the website. From a business perspective this is important feature that will help guid future platform upgrades, content prioritisation, and maintenance efforts.</p>
<p>The <strong>Discover</strong> function has the largest number of hits, just shy of 20,000 (making up 33% of total hits), which is true for both the engaged and focus groups (see <a href="#fig-action">Figure&nbsp;5</a>). This is followed by <strong>Session</strong> (of 11,000 hits), <strong>Home</strong> (of 7,100 hits), and then <strong>Attend</strong> (of 6,900 hits). Aside from logging in, customers across both groups tend to view articles the most (15% of total user activity), scroll the home landing (15%), scroll the discover landing (11%), and the attend landing page (7%). Suggesting that this is where they glean the most useful content from the <em>MyNZTW</em> platform and shows where they’re likely to spend most of their time.</p>
<div class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-action-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-action-1.png" class="img-fluid figure-img" data-ref-parent="fig-action" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">(a) Customers function choice</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-action-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-action-2.png" class="img-fluid figure-img" data-ref-parent="fig-action" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">(b) Customer action choice</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 5: Where do customers often natigate to</figcaption><p></p>
</figure>
</div>
</section>
<section id="what-are-customers-looking-for" class="level2">
<h2 class="anchored" data-anchor-id="what-are-customers-looking-for"><svg aria-hidden="true" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#B5E5CF;overflow:visible;position:relative;"><path d="M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"></path></svg> What are Customers looking for?</h2>
<p>Search queries can provide a useful insight into what customers are thinking. <a href="#fig-word">Figure&nbsp;6</a> sets out the most frequent word occurrences across searches between the two customer segments. In this case, Amazon, market, Australia, export, and China are some of the most frequently reoccurring word searches that occur across both groups. However, these are some interesting differences between the two groups. Where the focus groups has more search terms centered around, growth, marketing, strategy and eCommerce. The engage group has frequent search terms such as, Manuka honey, business, potential, sustainability.</p>
<div class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-word-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-word-1.png" class="img-fluid figure-img" data-ref-parent="fig-word" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">(a) Engaged Customers</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 50.0%;justify-content: center;">
<div id="fig-word-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-word-2.png" class="img-fluid figure-img" data-ref-parent="fig-word" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">(b) Focus Customers</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 6: A frequency word count on search quries</figcaption><p></p>
</figure>
</div>
<p>We can also visualise search terms via word clouds, to produce something more evocative. <a href="#fig-wordcloulds">Figure&nbsp;7</a> is a combination of word searches across both groups.</p>
<div class="cell">
<div id="fig-wordcloulds" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div id="htmlwidget-f4ed2ae522c959d17a78" style="width:100%;height:464px;" class="wordcloud2 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f4ed2ae522c959d17a78">{"x":{"word":["amazon","market","australia","export","honey","china","sustainability","food","business","japan","manuka","marketing","singapore","care","digital","strategy","organic","agreement","growth","distributor","ecommerce","persona","plan","exports","potential","template","vat","exporting","trade","uk","usa","covid","free","import","research","cream","ice","lobster","acquisition","brand","cost","flywheel","springboard","assessment","expert","international","nz","resources","toolkit","access","advice","australian","embedding","live","recruit","spain","staff","brands","foodservice","pet","register","shannon","wechat","19","application","company","distrubutor","funding","money","nick","partner","regulations","united","advisor","branding","consumer","customer","digitally","essentials","linkedin","speaking","story","understanding","wine","businesses","catalysed","coffee","euro","health","kantar","korea","manage","middle","monitor","nzte","pandemic","products","report","seafood","sectors","victoria","america","art","beachhead","beverage","canvas","distributors","douglas","east","explains","investment","key","margin","masterclass","model","pharmaceuticals","profit","registration","risk","roddy","skincare","successful","supermarkets","supplements","zealand","2021","apply","ben","chain","consumers","department","development","effort","formula","fruit","fund","global","gst","guide","imports","india","infant","insights","journey","kpi","leadership","managing","merino","mowbray","nam","navigator","platforms","privacy","public","seller","social","stores","taiwan","tool","trademark","video","viet","14,000","abn","airport","bahrain","cannabis","channel","choose","conditions","costco","customs","dairy","deep","dinosaur","estar","fisher","form","functional","google","gtm","igf","industry","instagram","korean","licence","manukora","maps","master","medicinal","opportunity","paykel","population","pricing","proposition","pure","ready","releases","saas","selecting","selling","supply","survey","sustainable","terms","time","uae","validation","vegetables","webinar","2020","6","agritech","amazin","answer","apples","b2b","beauty","butter","capital","commerce","content","courses","design","diversification","duty","effect","energy","europe","expo","external","financial","finding","focus","geothermal","goals","im","industrial","influencer","issued","kennedy","latin","lean","legislation","license","losses","machines","mark","masterclasses","materials","media","mei","mitigate","multinational","north","nut","oral","partners","payment","planning","precision","premiumisation","price","promotion","protecting","questions","rakuten","recycling","rocket","selection","sell","services","share","singaporean","software","soul","start","study","talk","tech","technology","tools","vietnam","visa","women","yu","42","5forests","accelerator","agency","agreements","amsterdam","analysis","au","bag","bbd","budget","campbell","chinese","club","compliance","conduct","continuity","countries","country","creative","culture","d2c","data","discover","distribution","dive","dott","dotteral","drives","dubai","essential","event","facebook","film","finder","fix","fogg","foodstuffs","forced","found","fresh","gdpr","gin","government","grant","greg","heilala","hong","idea","incoterms","internet","investors","kami","kol","kong","kuwait","liquor","low","marketplace","markets","matters","medtech","naish","nature","objectives","organising","overseas","partnet","philippines","polo","premium","profitability","purchases","purpose","qatar","raising","recruitment","requirements","retail","roadshow","scaling","sector","setting","shoppers","single","size","structures","support","tariff","tarrifs","templates","thinking","trading","trends","ubco","ukraine","upskilling","valuecommerce","werk","yumei","zimbabwe","zuru","zuru's","20","2011","2016","2iq","4602.1","700","accounting","acts","adapted","ag","agtech","alibaba","apple","arabia","asia","assets","assistance","audit","audita","audits","avocado","beef","bluelab","board","braxton","brazil","brexit","cadenshae","campaign","carrot","chains","channels","chinas","circle","clothing","companies","comvita","conference","correctly","cosmetics","covers","cross","cutomer","cycle","deck","defining","developmentr","deveraux","device","diagou","direct","disrupted","disruption","documents","duncan","duties","duy","ed","elderly","elders","eor","events","fitzpatrick","fixx","franchise","future","garment","gcc","geoff","governance","grants","harrison","heatlh","icecream","idvf","images","inco","inter","interactive","ioss","jobs","june","kamu","kit","lamb","led","li","library","life","louie","medical","metia","milk","mining","morag","morgan","mouth","moynahan","moynihan","netherland","networking","nzs","omar","omars","online","options","organisation","otganjmmm","packaging","page","partnership","pathways","people","pitch","position","preparing","production","programs","projectlink","projects","providers","raise","rebrand","rebranding","reports","rory","sarah","saudi","sdg","sdg's","service","serving","shane","shopping","singapoe","sleep","snow","spring","started","sticks","stuart","sustainabile","tarrif","tarriffs","tax","tea","textile","thinklazy","tokyo","toothpaste","tour","transformation","varieties","virtual","vodka","wellbeing","workshop","write"],"freq":[115,74,71,67,60,41,41,38,30,30,30,29,29,27,26,24,21,20,20,19,19,19,18,17,17,17,17,16,16,16,16,15,15,15,15,14,14,14,13,13,13,13,13,12,12,12,12,12,12,11,11,11,11,11,11,11,11,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"fontFamily":"Segoe UI","fontWeight":"bold","color":"random-dark","minSize":0,"weightFactor":2.19130434782609,"backgroundColor":"white","gridSize":0,"minRotation":-0.785398163397448,"maxRotation":0.785398163397448,"shuffle":true,"rotateRatio":0.4,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 7: A wordcloud of search queries</figcaption><p></p>
</figure>
</div>
</div>
</section>
<section id="customer-target-markets" class="level2">
<h2 class="anchored" data-anchor-id="customer-target-markets"><svg aria-hidden="true" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#B5E5CF;overflow:visible;position:relative;"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg> Customer Target Markets</h2>
<p>For organisation where a target market is present ( about 765), the United States (294), Australia (268), China (139), and the United Kingdom (85) are the most targeted markets across those organisations (see <a href="#fig-worldmap">Figure&nbsp;8</a>). Interestingly, despite the limited market access, relative to the other countries, of which New Zealand has trade agreements in place, the United States is still a sought after market for business expansion. The high number of target markets for Australia, may support the narrative that New Zealand businesses looking to export, are said to ‘cut one’s teeth’ on the Australian market first, before expanding further and could represent smaller business who are looking try there hand at exporting. Target market access to China, is likely driven by the food and beverages industries, where price premiums are likely to be the highest.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-worldmap" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="index_files/figure-html/fig-worldmap-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption aria-hidden="true" class="figure-caption">Figure 8: Number of Target Markets by Organisation</figcaption><p></p>
</figure>
</div>
</div>
</div>
<!-- -->

</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Meaningful engagement on *MyNZTE*</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Sam Verevis"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">  message: false</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">  echo: false</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="an">theme:</span><span class="co"> minty</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="an">always_allow_html:</span><span class="co"> true</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="do">## Load packages and the dataset</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(ggplot2)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(stringr)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(lubridate)</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(dplyr)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(tidyr)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(purrr)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(forcats)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(knitr)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(rmarkdown)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(readxl)</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(janitor)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(naniar)</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(scales)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(wordcloud)</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(wordcloud2)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(tidytext)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(showtext)</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(rnaturalearth)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(fontawesome)</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(rsvg)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(htmlwidgets)</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">library</span>(webshot)</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="do">## Establish  file path for project</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  here<span class="sc">::</span><span class="fu">i_am</span>(<span class="at">path =</span> <span class="st">"Programmes/index.qmd"</span>)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(here)</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="do">## Some house keeping</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Set plot theme</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_set</span>(<span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"gray12"</span>),</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Customize the text in the title, subtitle, and caption</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">hjust =</span> <span class="fl">0.05</span>),</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">hjust =</span> <span class="fl">0.05</span>),</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">hjust =</span> .<span class="dv">5</span>),</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Make the background white and remove extra grid lines</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Import dataset</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    usage_df <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="fu">here</span>(<span class="st">"Data_Raw"</span>, <span class="st">"myNZTE usage_Feb_Aug2021.xlsx"</span>), <span class="at">sheet =</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(minutes_to_view, document_name, format, browser, </span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>                              document_id, operating_system, published_at)) <span class="sc">|&gt;</span> </span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">mutate</span>(</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>                            <span class="at">job_title =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(job_title), job_title_2, job_title),</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>                             <span class="at">activity_dttm_nz =</span> <span class="fu">make_datetime</span>(</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">year =</span> <span class="fu">year</span>(activity_nz_date), </span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">month =</span> <span class="fu">month</span>(activity_nz_date),</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">day =</span> <span class="fu">day</span>(activity_nz_date),</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">hour =</span> <span class="fu">hour</span>(activity_nz_time),</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">min =</span> <span class="fu">minute</span>(activity_nz_time),</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">sec =</span> <span class="fu">second</span>(activity_nz_time))) <span class="sc">|&gt;</span> </span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">select</span>(<span class="sc">-</span>job_title_2) </span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Create a timeline dataset for unique sessions</span></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Activity NZ data needs to be sorted correctly and also arrange datetime Note 'user activity timeline ID' is a herring,</span></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>  <span class="do">## by session ID  to get the correct first and last vales. There are some large outliers here so remove values </span></span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>  <span class="do">## that are large than a working day, i.e. an 8 hour day             </span></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>  timeline_df <span class="ot">&lt;-</span> usage_df <span class="sc">|&gt;</span></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">select</span>(activity_nz_date, </span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>                           activity_nz_time, </span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>                           session_id,</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>                           activity_dttm_nz) <span class="sc">|&gt;</span> </span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(session_id)) <span class="sc">|&gt;</span> </span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">group_by</span>(session_id) <span class="sc">|&gt;</span></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">arrange</span>(activity_dttm_nz) <span class="sc">|&gt;</span> </span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">summarise</span>( </span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>                            <span class="at">session_start =</span> <span class="fu">first</span>(activity_dttm_nz),</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>                            <span class="at">session_end =</span> <span class="fu">last</span>(activity_dttm_nz),</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>                            <span class="at">session_length  =</span> <span class="fu">time_length</span>(session_end<span class="sc">-</span>session_start, <span class="at">unit =</span> <span class="st">"minutes"</span>),</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>                            <span class="at">n_actions =</span><span class="fu">n</span>()</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>                    ) <span class="sc">|&gt;</span> <span class="fu">inner_join</span>(usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>                                      <span class="fu">distinct</span>(organisation_key, session_id,</span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>                                               organisation_nzte_segment, organisation_nzte_sector),</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a>                                   <span class="at">by =</span> <span class="st">"session_id"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">arrange</span>(<span class="fu">desc</span>(session_length)) <span class="sc">|&gt;</span> </span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(session_length <span class="sc">&lt;=</span> <span class="dv">480</span>) <span class="sc">|&gt;</span>   <span class="co">#this reduces the dataset down from 10891 to 10779 (112)</span></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>                      <span class="do">## Create a bin for plotting later</span></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">mutate</span>(<span class="at">session_bin =</span> <span class="fu">case_when</span>(</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>                                              session_length <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">"0"</span>,</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>                                              session_length <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> session_length <span class="sc">&lt;=</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"0 - 1"</span>,</span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>                                              session_length <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> session_length <span class="sc">&lt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"1 - 5"</span>,</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>                                              session_length <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">&amp;</span> session_length <span class="sc">&lt;=</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"5 - 10"</span>,</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>                                              session_length <span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">&amp;</span> session_length <span class="sc">&lt;=</span> <span class="dv">15</span> <span class="sc">~</span> <span class="st">"10 - 15"</span>,</span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a>                                              session_length <span class="sc">&gt;</span> <span class="dv">15</span> <span class="sc">&amp;</span> session_length <span class="sc">&lt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"15 - 30"</span>,</span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>                                              <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"30 +"</span></span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>                                              ),</span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>                             <span class="at">session_bin =</span> <span class="fu">factor</span>(session_bin, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"0"</span>,<span class="st">"0 - 1"</span>,<span class="st">"1 - 5"</span>,<span class="st">"5 - 10"</span>,</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>                                                                             <span class="st">"10 - 15"</span>,<span class="st">"15 - 30"</span>, <span class="st">"30 +"</span>)</span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a>                                                     ))</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a><span class="fu">## Summary</span></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Understanding customer interaction can aid in the understanding of how customers engaged with the platform and drive strategic business decisions,</span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Over the 6 month period (March to August 2021), there were 3,700 business that used the *MyNZTE* platform, with 11,000 unique sessions across the period that averaged 15 minutes long per session (though this varies considerably),</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>With most users predominately based in the Manufacturing and Food and Beverage sectors. </span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>Most customers use the **Discover** function and tend to spend their time frequently viewing articles and scrolling the **Home** and **Discover** landing,</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>User searches also tend to be centered around exports, Australia, China, growth, strategy and eCommerce. </span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a><span class="fu">## `r fa("building", fill = "#B5E5CF")` *MyNZTE* Customer Engagement </span></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a>Understanding customer interactions through online platforms offers several key advantages in understanding how services provided are indeed, having the desired engagement you want. That is, website data can reveal how long customers spend on the site per session, how many of them 'bounce' after logging in, most frequently used functions or actions they take, and summarised search queries can reveal what might be 'top of mind' for your customers. </span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a>All of this readily available data can help guide website investment decisions, reveal how customers consume content, figure out current topics of interest, and identify where engagement might not be working as well. </span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a>Over the six months from March through to August of 2021, *MyNZTE* had about 11,000 unique customer sessions, which came from about 3,700 different organisations of which a third were the NZTE focus group. While the length of each session varied widely across the customer base (from 0 minutes to an entire day), the mid-point of each session across users was about 1 minute (see @fig-user). In combination, the bounce rate for the website across this period was about 23% - suggesting almost *80%* of *MyNZTE* users are engaging beyond a single page view, relative to 23% of the sessions, in which users left immediately after logging on. </span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Number of user sessions over the 6 month period"</span></span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-user</span></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a><span class="do">## plot</span></span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>    timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(session_bin) <span class="sc">|&gt;</span> </span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">n =</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> session_bin, <span class="at">y =</span> n, <span class="at">fill =</span> session_bin)) <span class="sc">+</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_fill_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">"#3D5B59"</span>, <span class="fu">rep</span>(<span class="st">"#B5E5CF"</span>, <span class="at">times =</span> <span class="dv">6</span>))) <span class="sc">+</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of Sessions"</span>) <span class="sc">+</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Length of Sessions"</span>) <span class="sc">+</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">y =</span> <span class="dv">2650</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#3D5B59"</span>, <span class="at">label =</span> <span class="st">"Bounce"</span>)</span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a>Given *MyNZTE* is a for business platform, user activity across the day occurs largely during the working hours (9am to 5pm), with most sessions occurring around the mid-morning (as shown by @fig-session-day-1), following a second peak post lunch. Most activity occurs across the working week, peaking on Thursday, with little activity occurring over the weekend (@fig-session-day-2). </span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-session-day</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Timeline of customer sessions over the 6 month period"</span></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Customer sessions across the week day"</span></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Customer sessions during time of day"</span></span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a>  <span class="do">## when is it getting looked at the most?  </span></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a>   timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(session_length <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">wday =</span> <span class="fu">wday</span>(session_start, <span class="at">label =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> wday, <span class="at">fill =</span> organisation_nzte_segment)) <span class="sc">+</span></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"stack"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#B99095"</span>, <span class="st">"#FCB5AC"</span>)) <span class="sc">+</span></span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">"Number of Customer Sessions"</span>) <span class="sc">+</span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">"Day of Week"</span>) <span class="sc">+</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme</span>(</span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a>     <span class="at">legend.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Over the working week, for the working week individual</span></span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a>  timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(session_length <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">hour_of_day =</span> <span class="fu">update</span>(session_start, <span class="at">yday =</span> <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a>           <span class="fu">ggplot</span>(<span class="fu">aes</span>(hour_of_day)) <span class="sc">+</span> </span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a>            <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="dv">600</span>, <span class="at">color =</span> <span class="st">"#B5E5CF"</span>) <span class="sc">+</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a>            <span class="fu">scale_x_datetime</span>(<span class="at">label =</span> <span class="fu">label_time</span>(<span class="at">format =</span> <span class="st">"%H:%M"</span>)) <span class="sc">+</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a>       <span class="fu">ylab</span>(<span class="st">"Number of Customer Sessions"</span>) <span class="sc">+</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a>       <span class="fu">xlab</span>(<span class="st">"Hour of Day"</span>) </span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a><span class="fu">## `r fa("industry", fill = "#B5E5CF")` Varying levels of meanginful engagement</span></span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a>While the number of industry based users are predominantly in manufacturing (35%), followed by food and beverage (28%), then tech (24%) and services (13%), the largest user activity comes from the food and beverage sector making up 42% of activity, then manufacturing (making up 33%). However, the tech and services industries users tend to be under-represented in activity relative to the total number of organisations on the platform (as shown in @fig-industry). </span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a>However, despite the lower user engagement from the services and tech businesses, the average time spent on the platform across sectors, doesn't vary drastically, with  tech and services spending the least amount of time on average (11 minutes) and food and beverages spending the most (about 15 minutes on average). Suggesting that, while *MyNZTE* might have the highest engagement from the food, beverage and manufacturing businesses, the platform is catering to the tech and service businesses needs.</span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-industry-png</span></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a>plot_df <span class="ot">&lt;-</span> timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(organisation_nzte_sector)) <span class="sc">|&gt;</span></span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a>            <span class="fu">mutate</span>(<span class="at">seconds_time =</span> session_length<span class="sc">*</span><span class="dv">60</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a>            <span class="fu">group_by</span>(organisation_nzte_sector) <span class="sc">|&gt;</span> </span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>(),</span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a>                      <span class="at">av_length =</span> <span class="fu">mean</span>(session_length),</span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a>                      <span class="at">total_veiw =</span> <span class="fu">sum</span>(session_length),</span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a>                      <span class="at">av_actions =</span> <span class="fu">mean</span>(n_actions),</span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a>                      <span class="at">av_sec =</span> <span class="fu">mean</span>(seconds_time),</span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a>                      <span class="at">med_length =</span> <span class="fu">median</span>(session_length))</span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(plot_df) <span class="sc">+</span></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make custom panel grid</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(</span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">yintercept =</span> y), </span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(<span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">4</span>) <span class="sc">*</span> <span class="dv">1000</span>),</span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"lightgrey"</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add bars to represent the cumulative track lengths</span></span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a>  <span class="co"># str_wrap(region, 5) wraps the text so each line has at most 5 characters</span></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (but it doesn't break long words)</span></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(</span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">reorder</span>(<span class="fu">str_wrap</span>(organisation_nzte_sector, <span class="dv">5</span>), n),</span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> n,</span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> n</span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="st">"dodge2"</span>,</span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> .<span class="dv">9</span></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(</span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">reorder</span>(<span class="fu">str_wrap</span>(organisation_nzte_sector, <span class="dv">5</span>),n),</span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> av_sec</span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"gray12"</span></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(</span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fu">reorder</span>(<span class="fu">str_wrap</span>(organisation_nzte_sector, <span class="dv">5</span>), n),</span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">0</span>,</span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> <span class="fu">reorder</span>(<span class="fu">str_wrap</span>(organisation_nzte_sector, <span class="dv">5</span>), n),</span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> <span class="dv">1500</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a>    <span class="at">linetype =</span> <span class="st">"dashed"</span>,</span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"gray12"</span></span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make it circular!</span></span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Annotate the bars and the lollipops so the reader understands the scaling</span></span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">5.2</span>, </span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="dv">1600</span>,</span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">"Mean session time (in Seconds)"</span>,</span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>,</span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a>    <span class="at">angle =</span> <span class="sc">-</span><span class="dv">50</span>,</span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"gray12"</span>,</span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(</span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">5.7</span>, </span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="dv">1100</span>, </span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">"1000"</span>, </span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"gray12"</span>, </span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">5.7</span>, </span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="dv">2100</span>, </span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">"2000"</span>, </span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"gray12"</span>, </span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">5.7</span>, </span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span><span class="dv">3100</span>, </span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="st">"3000"</span>, </span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"gray12"</span>, </span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1500</span>, <span class="dv">4500</span>),</span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a>    <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>),</span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="dv">2000</span>, <span class="dv">3000</span>, <span class="dv">4000</span>)</span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Number of sessions by Inudustry"</span>,</span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a>     <span class="at">colours =</span> <span class="fu">c</span>( <span class="st">"#B99095"</span>,<span class="st">"#FCB5AC"</span>,<span class="st">"#B5E5CF"</span>,<span class="st">"#3D5B59"</span>)</span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a>    <span class="fu">guides</span>(</span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="fu">guide_colorsteps</span>(</span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a>      <span class="at">barwidth =</span> <span class="dv">15</span>, <span class="at">barheight =</span> .<span class="dv">5</span>, <span class="at">title.position =</span> <span class="st">"top"</span>, <span class="at">title.hjust =</span> .<span class="dv">5</span></span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>( </span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use gray text for the region names</span></span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"gray12"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a>  <span class="do">## need to save and import this as a PNG file</span></span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a>  <span class="do">## </span></span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ggsave</span>(<span class="st">"plot.png"</span>, plot,<span class="at">width=</span><span class="dv">9</span>, <span class="at">height=</span><span class="fl">8.6</span>)</span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">industry</span><span class="co">]</span>(plot.png "Title: Number of sessions and average time spent per session (in seconds), by Inudstry"){#fig-industry}</span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a>@fig-session-groups shows the total number of times an organisation has engaged with the platform as well as total time spent by the two NZTE customer segments (Focus vs. Engaged) over the 6 month period. The focus group tends to repeatedly use the platform more, with an average log-in rate of 5.3 times per business over the 6 month period, compared to engaged businesses, who on average had a log-in rate of 2.5. This also corresponds to a higher session length time for the focus group, who tend to use *myNZTE* 14 minutes per session on average, compared to the engaged group, in which the central tendency was 9 minutes per session.</span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-session-groups</span></span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Organisation uses vs time spent"</span></span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a>repeat_users <span class="ot">&lt;-</span> timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">filter</span>(n_actions <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">group_by</span>(organisation_key) <span class="sc">|&gt;</span> </span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">summarise</span>(<span class="at">n_times=</span><span class="fu">n</span>(),</span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a>                            <span class="at">session_length =</span> <span class="fu">sum</span>(session_length)) <span class="sc">|&gt;</span> </span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">inner_join</span>(usage_df <span class="sc">|&gt;</span>  <span class="fu">distinct</span>(organisation_key, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>), <span class="at">by =</span> <span class="st">"organisation_key"</span>)</span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a><span class="do">## With two meaningful indicators of meaningfully engage by business and length of session we can plot this</span></span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(repeat_users <span class="sc">|&gt;</span> </span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a>         <span class="fu">filter</span>(session_length <span class="sc">&lt;</span> <span class="dv">1000</span>), </span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(n_times, session_length<span class="sc">/</span><span class="dv">60</span>, <span class="at">col =</span> organisation_nzte_segment)) <span class="sc">+</span></span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> .<span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#B5E5CF"</span>, <span class="st">"#3D5B59"</span>)) <span class="sc">+</span></span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Number of visits per organisation"</span>) <span class="sc">+</span></span>
<span id="cb1-363"><a href="#cb1-363" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total use time (in hours)"</span>) <span class="sc">+</span></span>
<span id="cb1-364"><a href="#cb1-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb1-365"><a href="#cb1-365" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb1-366"><a href="#cb1-366" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb1-367"><a href="#cb1-367" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-368"><a href="#cb1-368" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.key=</span><span class="fu">element_blank</span>()</span>
<span id="cb1-369"><a href="#cb1-369" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-370"><a href="#cb1-370" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-371"><a href="#cb1-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-372"><a href="#cb1-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-373"><a href="#cb1-373" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-374"><a href="#cb1-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-375"><a href="#cb1-375" aria-hidden="true" tabindex="-1"></a><span class="fu">## `r fa("map", fill = "#B5E5CF")` Understanding the *MyNZTE* value-add</span></span>
<span id="cb1-376"><a href="#cb1-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-377"><a href="#cb1-377" aria-hidden="true" tabindex="-1"></a>How customers spend their time on the platform reveals where they find the most value-add on the website. From a business perspective this is important feature that will help guid future platform upgrades, content prioritisation, and maintenance efforts. </span>
<span id="cb1-378"><a href="#cb1-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-379"><a href="#cb1-379" aria-hidden="true" tabindex="-1"></a>The **Discover** function has the largest number of hits, just shy of 20,000 (making up 33% of total hits), which is true for both the engaged and focus groups (see @fig-action). This is followed by **Session** (of 11,000 hits), **Home** (of 7,100 hits), and then **Attend** (of 6,900 hits). Aside from logging in, customers across both groups tend to view articles the most (15% of total user activity), scroll the home landing (15%), scroll the discover landing (11%), and the attend landing page (7%). Suggesting that this is where they glean the most useful content from the *MyNZTW* platform and shows where they're likely to spend most of their time.</span>
<span id="cb1-380"><a href="#cb1-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-383"><a href="#cb1-383" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-384"><a href="#cb1-384" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-action</span></span>
<span id="cb1-385"><a href="#cb1-385" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "Where do customers often natigate to"</span></span>
<span id="cb1-386"><a href="#cb1-386" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb1-387"><a href="#cb1-387" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Customers function choice"</span></span>
<span id="cb1-388"><a href="#cb1-388" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Customer action choice"</span></span>
<span id="cb1-389"><a href="#cb1-389" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb1-390"><a href="#cb1-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-391"><a href="#cb1-391" aria-hidden="true" tabindex="-1"></a><span class="do">## Function Graph</span></span>
<span id="cb1-392"><a href="#cb1-392" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-393"><a href="#cb1-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-394"><a href="#cb1-394" aria-hidden="true" tabindex="-1"></a>usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-395"><a href="#cb1-395" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">function</span><span class="st">`</span>), <span class="st">`</span><span class="at">function</span><span class="st">`</span> <span class="sc">!=</span> <span class="st">"Error"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-396"><a href="#cb1-396" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">function</span><span class="st">`</span>, organisation_nzte_segment) <span class="sc">|&gt;</span> </span>
<span id="cb1-397"><a href="#cb1-397" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-398"><a href="#cb1-398" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb1-399"><a href="#cb1-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-400"><a href="#cb1-400" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(</span>
<span id="cb1-401"><a href="#cb1-401" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(<span class="st">`</span><span class="at">function</span><span class="st">`</span>, n), <span class="at">y =</span> n , <span class="at">fill =</span> organisation_nzte_segment)</span>
<span id="cb1-402"><a href="#cb1-402" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb1-403"><a href="#cb1-403" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb1-404"><a href="#cb1-404" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb1-405"><a href="#cb1-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#B5E5CF"</span>, <span class="st">"#3D5B59"</span>))  <span class="sc">+</span></span>
<span id="cb1-406"><a href="#cb1-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb1-407"><a href="#cb1-407" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb1-408"><a href="#cb1-408" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb1-409"><a href="#cb1-409" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-410"><a href="#cb1-410" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.key=</span><span class="fu">element_blank</span>()</span>
<span id="cb1-411"><a href="#cb1-411" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb1-412"><a href="#cb1-412" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Number of occurances"</span>) <span class="sc">+</span></span>
<span id="cb1-413"><a href="#cb1-413" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Function chosen by user"</span>)</span>
<span id="cb1-414"><a href="#cb1-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-415"><a href="#cb1-415" aria-hidden="true" tabindex="-1"></a><span class="do">## Action Graph</span></span>
<span id="cb1-416"><a href="#cb1-416" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-417"><a href="#cb1-417" aria-hidden="true" tabindex="-1"></a>usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-418"><a href="#cb1-418" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(action), action<span class="sc">!=</span> <span class="st">"Login"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-419"><a href="#cb1-419" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(action, organisation_nzte_segment) <span class="sc">|&gt;</span> </span>
<span id="cb1-420"><a href="#cb1-420" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb1-421"><a href="#cb1-421" aria-hidden="true" tabindex="-1"></a>    <span class="fu">semi_join</span>(</span>
<span id="cb1-422"><a href="#cb1-422" aria-hidden="true" tabindex="-1"></a>          usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-423"><a href="#cb1-423" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(action)) <span class="sc">|&gt;</span> </span>
<span id="cb1-424"><a href="#cb1-424" aria-hidden="true" tabindex="-1"></a>            <span class="fu">group_by</span>(action) <span class="sc">|&gt;</span> </span>
<span id="cb1-425"><a href="#cb1-425" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb1-426"><a href="#cb1-426" aria-hidden="true" tabindex="-1"></a>             <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">15</span>), <span class="at">by =</span> <span class="st">"action"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-427"><a href="#cb1-427" aria-hidden="true" tabindex="-1"></a>       <span class="fu">ggplot</span>(</span>
<span id="cb1-428"><a href="#cb1-428" aria-hidden="true" tabindex="-1"></a>               <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(action, n), <span class="at">y =</span> n , <span class="at">fill =</span> organisation_nzte_segment)) <span class="sc">+</span></span>
<span id="cb1-429"><a href="#cb1-429" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"stack"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb1-430"><a href="#cb1-430" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#B99095"</span>, <span class="st">"#FCB5AC"</span>)) <span class="sc">+</span></span>
<span id="cb1-431"><a href="#cb1-431" aria-hidden="true" tabindex="-1"></a>          <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb1-432"><a href="#cb1-432" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Number of occurances"</span>) <span class="sc">+</span></span>
<span id="cb1-433"><a href="#cb1-433" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"User activity"</span>) <span class="sc">+</span></span>
<span id="cb1-434"><a href="#cb1-434" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb1-435"><a href="#cb1-435" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb1-436"><a href="#cb1-436" aria-hidden="true" tabindex="-1"></a>      <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb1-437"><a href="#cb1-437" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-438"><a href="#cb1-438" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.key=</span><span class="fu">element_blank</span>()</span>
<span id="cb1-439"><a href="#cb1-439" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-440"><a href="#cb1-440" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-441"><a href="#cb1-441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-442"><a href="#cb1-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-443"><a href="#cb1-443" aria-hidden="true" tabindex="-1"></a><span class="fu">## `r fa("eye", fill = "#B5E5CF")` What are Customers looking for?</span></span>
<span id="cb1-444"><a href="#cb1-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-445"><a href="#cb1-445" aria-hidden="true" tabindex="-1"></a>Search queries can provide a useful insight into what customers are thinking. @fig-word sets out the most frequent word occurrences across searches between the two customer segments. In this case, Amazon, market, Australia, export, and China are some of the most frequently reoccurring word searches that occur across both groups. However, these are some interesting differences between the two groups. Where the focus groups has more search terms centered around, growth, marketing, strategy and eCommerce. The engage group has frequent search terms such as, Manuka honey, business, potential, sustainability. </span>
<span id="cb1-446"><a href="#cb1-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-449"><a href="#cb1-449" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-450"><a href="#cb1-450" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-word</span></span>
<span id="cb1-451"><a href="#cb1-451" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "A frequency word count on search quries"</span></span>
<span id="cb1-452"><a href="#cb1-452" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap:</span></span>
<span id="cb1-453"><a href="#cb1-453" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Engaged Customers"</span></span>
<span id="cb1-454"><a href="#cb1-454" aria-hidden="true" tabindex="-1"></a><span class="co">#|   - "Focus Customers"</span></span>
<span id="cb1-455"><a href="#cb1-455" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-ncol: 2</span></span>
<span id="cb1-456"><a href="#cb1-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-457"><a href="#cb1-457" aria-hidden="true" tabindex="-1"></a>usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-458"><a href="#cb1-458" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(search_query_terms), organisation_nzte_segment <span class="sc">==</span> <span class="st">"Engaged"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-459"><a href="#cb1-459" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, search_query_terms) <span class="sc">|&gt;</span> </span>
<span id="cb1-460"><a href="#cb1-460" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words) <span class="sc">|&gt;</span> </span>
<span id="cb1-461"><a href="#cb1-461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">|&gt;</span> </span>
<span id="cb1-462"><a href="#cb1-462" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb1-463"><a href="#cb1-463" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">freq =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb1-464"><a href="#cb1-464" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-465"><a href="#cb1-465" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(word, freq), <span class="at">y =</span> freq, <span class="at">fill =</span> freq)) <span class="sc">+</span></span>
<span id="cb1-466"><a href="#cb1-466" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb1-467"><a href="#cb1-467" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb1-468"><a href="#cb1-468" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb1-469"><a href="#cb1-469" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Number of Organisations by Target Markets"</span>,</span>
<span id="cb1-470"><a href="#cb1-470" aria-hidden="true" tabindex="-1"></a>     <span class="at">colours =</span> <span class="fu">c</span>( <span class="st">"#B99095"</span>,<span class="st">"#FCB5AC"</span>,<span class="st">"#B5E5CF"</span>,<span class="st">"#3D5B59"</span>)) <span class="sc">+</span></span>
<span id="cb1-471"><a href="#cb1-471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of Searches"</span>) <span class="sc">+</span></span>
<span id="cb1-472"><a href="#cb1-472" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Words Searched"</span>)</span>
<span id="cb1-473"><a href="#cb1-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-474"><a href="#cb1-474" aria-hidden="true" tabindex="-1"></a>usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-475"><a href="#cb1-475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(search_query_terms), organisation_nzte_segment <span class="sc">==</span> <span class="st">"Focus"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-476"><a href="#cb1-476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, search_query_terms) <span class="sc">|&gt;</span> </span>
<span id="cb1-477"><a href="#cb1-477" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words) <span class="sc">|&gt;</span> </span>
<span id="cb1-478"><a href="#cb1-478" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">|&gt;</span> </span>
<span id="cb1-479"><a href="#cb1-479" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb1-480"><a href="#cb1-480" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">freq =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb1-481"><a href="#cb1-481" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-482"><a href="#cb1-482" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(word, freq), <span class="at">y =</span> freq, <span class="at">fill =</span> freq)) <span class="sc">+</span></span>
<span id="cb1-483"><a href="#cb1-483" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb1-484"><a href="#cb1-484" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb1-485"><a href="#cb1-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb1-486"><a href="#cb1-486" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Number of Organisations by Target Markets"</span>,</span>
<span id="cb1-487"><a href="#cb1-487" aria-hidden="true" tabindex="-1"></a>     <span class="at">colours =</span> <span class="fu">c</span>( <span class="st">"#B99095"</span>,<span class="st">"#FCB5AC"</span>,<span class="st">"#B5E5CF"</span>,<span class="st">"#3D5B59"</span>)) <span class="sc">+</span></span>
<span id="cb1-488"><a href="#cb1-488" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of Searches"</span>) <span class="sc">+</span></span>
<span id="cb1-489"><a href="#cb1-489" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Words Searched"</span>)</span>
<span id="cb1-490"><a href="#cb1-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-491"><a href="#cb1-491" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-492"><a href="#cb1-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-493"><a href="#cb1-493" aria-hidden="true" tabindex="-1"></a>We can also visualise search terms via word clouds, to produce something more evocative. @fig-wordcloulds is a combination of word searches across both groups.</span>
<span id="cb1-494"><a href="#cb1-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-497"><a href="#cb1-497" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-498"><a href="#cb1-498" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-wordcloulds</span></span>
<span id="cb1-499"><a href="#cb1-499" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: "A wordcloud of search queries"</span></span>
<span id="cb1-500"><a href="#cb1-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-501"><a href="#cb1-501" aria-hidden="true" tabindex="-1"></a><span class="do">## Let's take a look at what they are predominately using when searching the website</span></span>
<span id="cb1-502"><a href="#cb1-502" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-503"><a href="#cb1-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-504"><a href="#cb1-504" aria-hidden="true" tabindex="-1"></a>tidy_search <span class="ot">&lt;-</span> usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-505"><a href="#cb1-505" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(search_query_terms)) <span class="sc">|&gt;</span> </span>
<span id="cb1-506"><a href="#cb1-506" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">unnest_tokens</span>(word, search_query_terms) <span class="sc">|&gt;</span> </span>
<span id="cb1-507"><a href="#cb1-507" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">anti_join</span>(stop_words) <span class="sc">|&gt;</span> </span>
<span id="cb1-508"><a href="#cb1-508" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">count</span>(word) <span class="sc">|&gt;</span> </span>
<span id="cb1-509"><a href="#cb1-509" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb1-510"><a href="#cb1-510" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">rename</span>(<span class="at">freq =</span> n)</span>
<span id="cb1-511"><a href="#cb1-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-512"><a href="#cb1-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-513"><a href="#cb1-513" aria-hidden="true" tabindex="-1"></a>custom_stop_words <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb1-514"><a href="#cb1-514" aria-hidden="true" tabindex="-1"></a>                      <span class="co"># Column names should match stop_words</span></span>
<span id="cb1-515"><a href="#cb1-515" aria-hidden="true" tabindex="-1"></a>                      <span class="sc">~</span>word, <span class="sc">~</span>lexicon,</span>
<span id="cb1-516"><a href="#cb1-516" aria-hidden="true" tabindex="-1"></a>                      <span class="co"># Add export as custom</span></span>
<span id="cb1-517"><a href="#cb1-517" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"export"</span>, <span class="st">"CUSTOM"</span>,)</span>
<span id="cb1-518"><a href="#cb1-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-519"><a href="#cb1-519" aria-hidden="true" tabindex="-1"></a>stop_words2 <span class="ot">&lt;-</span> stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb1-520"><a href="#cb1-520" aria-hidden="true" tabindex="-1"></a>                <span class="fu">bind_rows</span>(custom_stop_words)</span>
<span id="cb1-521"><a href="#cb1-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-522"><a href="#cb1-522" aria-hidden="true" tabindex="-1"></a> <span class="fu">wordcloud2</span>(<span class="at">data=</span>tidy_search, <span class="at">size=</span><span class="fl">1.4</span>, <span class="at">color=</span><span class="st">'random-dark'</span>)</span>
<span id="cb1-523"><a href="#cb1-523" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-524"><a href="#cb1-524" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-525"><a href="#cb1-525" aria-hidden="true" tabindex="-1"></a> <span class="do">## ![wordclould](Rplot.png "Title: Wordcloud"){#fig-wordclould} </span></span>
<span id="cb1-526"><a href="#cb1-526" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-527"><a href="#cb1-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-528"><a href="#cb1-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-529"><a href="#cb1-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-530"><a href="#cb1-530" aria-hidden="true" tabindex="-1"></a><span class="fu">## `r fa("globe", fill = "#B5E5CF")` Customer Target Markets</span></span>
<span id="cb1-531"><a href="#cb1-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-532"><a href="#cb1-532" aria-hidden="true" tabindex="-1"></a>For organisation where a target market is present ( about 765), the United States (294), Australia (268), China (139), and the United Kingdom (85) are the most targeted markets across those organisations (see @fig-worldmap). Interestingly, despite the limited market access, relative to the other countries, of which New Zealand has trade agreements in place, the United States is still a sought after market for business expansion. The high number of target markets for Australia, may support the narrative that New Zealand businesses looking to export, are said to 'cut one's teeth' on the Australian market first, before expanding further and could represent smaller business who are looking try there hand at exporting. Target market access to China, is likely driven by the food and beverages industries, where price premiums are likely to be the highest.</span>
<span id="cb1-533"><a href="#cb1-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-536"><a href="#cb1-536" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-537"><a href="#cb1-537" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-cap: Number of Target Markets by Organisation</span></span>
<span id="cb1-538"><a href="#cb1-538" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: fig-worldmap</span></span>
<span id="cb1-539"><a href="#cb1-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-540"><a href="#cb1-540" aria-hidden="true" tabindex="-1"></a>country <span class="ot">&lt;-</span> usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-541"><a href="#cb1-541" aria-hidden="true" tabindex="-1"></a>             <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(organisation_target_markets)) <span class="sc">|&gt;</span></span>
<span id="cb1-542"><a href="#cb1-542" aria-hidden="true" tabindex="-1"></a>            <span class="fu">distinct</span>(organisation_key, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-543"><a href="#cb1-543" aria-hidden="true" tabindex="-1"></a>            <span class="fu">separate_rows</span>(organisation_target_markets, <span class="at">sep =</span> <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-544"><a href="#cb1-544" aria-hidden="true" tabindex="-1"></a>            <span class="fu">group_by</span>(organisation_target_markets) <span class="sc">|&gt;</span> </span>
<span id="cb1-545"><a href="#cb1-545" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>())</span>
<span id="cb1-546"><a href="#cb1-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-547"><a href="#cb1-547" aria-hidden="true" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">"medium"</span>, <span class="at">type =</span> <span class="st">"countries"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-548"><a href="#cb1-548" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(admin, name, name_long) <span class="sc">|&gt;</span> </span>
<span id="cb1-549"><a href="#cb1-549" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(name <span class="sc">!=</span> <span class="st">"Antarctica"</span>)</span>
<span id="cb1-550"><a href="#cb1-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-551"><a href="#cb1-551" aria-hidden="true" tabindex="-1"></a>world_merged <span class="ot">&lt;-</span> <span class="fu">left_join</span>(world, country, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"name"</span><span class="ot">=</span><span class="st">"organisation_target_markets"</span>))</span>
<span id="cb1-552"><a href="#cb1-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-553"><a href="#cb1-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-554"><a href="#cb1-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-555"><a href="#cb1-555" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> world_merged) <span class="sc">+</span> </span>
<span id="cb1-556"><a href="#cb1-556" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> n), <span class="at">alpha =</span> <span class="fl">0.8</span>,</span>
<span id="cb1-557"><a href="#cb1-557" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">"grey88"</span>,</span>
<span id="cb1-558"><a href="#cb1-558" aria-hidden="true" tabindex="-1"></a>                <span class="at">linetype =</span> <span class="dv">1</span>,</span>
<span id="cb1-559"><a href="#cb1-559" aria-hidden="true" tabindex="-1"></a>                <span class="at">lwd =</span> <span class="fl">0.25</span>) <span class="sc">+</span></span>
<span id="cb1-560"><a href="#cb1-560" aria-hidden="true" tabindex="-1"></a>   <span class="fu">guides</span>(</span>
<span id="cb1-561"><a href="#cb1-561" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="fu">guide_colorsteps</span>(</span>
<span id="cb1-562"><a href="#cb1-562" aria-hidden="true" tabindex="-1"></a>      <span class="at">barwidth =</span> <span class="dv">15</span>, <span class="at">barheight =</span> .<span class="dv">5</span>, <span class="at">title.position =</span> <span class="st">"top"</span>, <span class="at">title.hjust =</span> .<span class="dv">5</span></span>
<span id="cb1-563"><a href="#cb1-563" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb1-564"><a href="#cb1-564" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb1-565"><a href="#cb1-565" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-566"><a href="#cb1-566" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-567"><a href="#cb1-567" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-568"><a href="#cb1-568" aria-hidden="true" tabindex="-1"></a>        <span class="at">rect =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-569"><a href="#cb1-569" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb1-570"><a href="#cb1-570" aria-hidden="true" tabindex="-1"></a><span class="fu">scale_fill_gradientn</span>(</span>
<span id="cb1-571"><a href="#cb1-571" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Number of MyNZTE Target Markets"</span>,</span>
<span id="cb1-572"><a href="#cb1-572" aria-hidden="true" tabindex="-1"></a>     <span class="at">colours =</span> <span class="fu">c</span>( <span class="st">"#B99095"</span>,<span class="st">"#FCB5AC"</span>,<span class="st">"#B5E5CF"</span>,<span class="st">"#3D5B59"</span>),</span>
<span id="cb1-573"><a href="#cb1-573" aria-hidden="true" tabindex="-1"></a>    <span class="at">na.value=</span><span class="st">"white"</span></span>
<span id="cb1-574"><a href="#cb1-574" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-575"><a href="#cb1-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-576"><a href="#cb1-576" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-577"><a href="#cb1-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-580"><a href="#cb1-580" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-581"><a href="#cb1-581" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false</span></span>
<span id="cb1-582"><a href="#cb1-582" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: archive</span></span>
<span id="cb1-583"><a href="#cb1-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-584"><a href="#cb1-584" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(timeline_df  <span class="sc">|&gt;</span> </span>
<span id="cb1-585"><a href="#cb1-585" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(session_length <span class="sc">&lt;</span> <span class="dv">30</span>), <span class="fu">aes</span>(<span class="at">x =</span> session_length)) <span class="sc">+</span></span>
<span id="cb1-586"><a href="#cb1-586" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.5</span>)</span>
<span id="cb1-587"><a href="#cb1-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-588"><a href="#cb1-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-589"><a href="#cb1-589" aria-hidden="true" tabindex="-1"></a><span class="do">## visualize the distribution of visit times across the last 6 months</span></span>
<span id="cb1-590"><a href="#cb1-590" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-591"><a href="#cb1-591" aria-hidden="true" tabindex="-1"></a>  timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-592"><a href="#cb1-592" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(session_length <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-593"><a href="#cb1-593" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(session_start)) <span class="sc">+</span></span>
<span id="cb1-594"><a href="#cb1-594" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="dv">604800</span>)</span>
<span id="cb1-595"><a href="#cb1-595" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-596"><a href="#cb1-596" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-597"><a href="#cb1-597" aria-hidden="true" tabindex="-1"></a>  industry_usage <span class="ot">&lt;-</span> timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-598"><a href="#cb1-598" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(organisation_nzte_sector)) <span class="sc">|&gt;</span> </span>
<span id="cb1-599"><a href="#cb1-599" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">group_by</span>(organisation_nzte_sector) <span class="sc">|&gt;</span> </span>
<span id="cb1-600"><a href="#cb1-600" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">summarise</span>(<span class="at">med_sesh =</span> <span class="fu">median</span>(session_length),</span>
<span id="cb1-601"><a href="#cb1-601" aria-hidden="true" tabindex="-1"></a>                              <span class="at">total_sesh =</span> <span class="fu">sum</span>((session_length)<span class="sc">/</span><span class="dv">60</span>)<span class="sc">/</span><span class="dv">24</span>,</span>
<span id="cb1-602"><a href="#cb1-602" aria-hidden="true" tabindex="-1"></a>                              <span class="at">n=</span><span class="fu">n</span>())</span>
<span id="cb1-603"><a href="#cb1-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-604"><a href="#cb1-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-605"><a href="#cb1-605" aria-hidden="true" tabindex="-1"></a>customer_usage <span class="ot">&lt;-</span> timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-606"><a href="#cb1-606" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(organisation_nzte_segment)) <span class="sc">|&gt;</span> </span>
<span id="cb1-607"><a href="#cb1-607" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">group_by</span>(organisation_nzte_segment) <span class="sc">|&gt;</span> </span>
<span id="cb1-608"><a href="#cb1-608" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">summarise</span>(<span class="at">med_sesh =</span> <span class="fu">median</span>(session_length),</span>
<span id="cb1-609"><a href="#cb1-609" aria-hidden="true" tabindex="-1"></a>                              <span class="at">n=</span><span class="fu">n</span>())</span>
<span id="cb1-610"><a href="#cb1-610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-611"><a href="#cb1-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-614"><a href="#cb1-614" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-615"><a href="#cb1-615" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false </span></span>
<span id="cb1-616"><a href="#cb1-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-617"><a href="#cb1-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-618"><a href="#cb1-618" aria-hidden="true" tabindex="-1"></a> <span class="do">##</span></span>
<span id="cb1-619"><a href="#cb1-619" aria-hidden="true" tabindex="-1"></a> <span class="do">## What was the users last page they typically finish on? (exit rate)</span></span>
<span id="cb1-620"><a href="#cb1-620" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-621"><a href="#cb1-621" aria-hidden="true" tabindex="-1"></a> last_page <span class="ot">&lt;-</span>  usage_df <span class="sc">|&gt;</span> </span>
<span id="cb1-622"><a href="#cb1-622" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">semi_join</span>(timeline_df, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"activity_dttm_nz"</span> <span class="ot">=</span> <span class="st">"session_end"</span>, </span>
<span id="cb1-623"><a href="#cb1-623" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">"session_id"</span>, </span>
<span id="cb1-624"><a href="#cb1-624" aria-hidden="true" tabindex="-1"></a>                                                <span class="st">"organisation_key"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-625"><a href="#cb1-625" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">arrange</span>(session_id, user_activity_timeline_id)</span>
<span id="cb1-626"><a href="#cb1-626" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-627"><a href="#cb1-627" aria-hidden="true" tabindex="-1"></a>dupes_rm <span class="ot">&lt;-</span> <span class="fu">get_dupes</span>(last_page, session_id) <span class="sc">|&gt;</span> </span>
<span id="cb1-628"><a href="#cb1-628" aria-hidden="true" tabindex="-1"></a>            <span class="fu">group_by</span>(session_id) <span class="sc">|&gt;</span> </span>
<span id="cb1-629"><a href="#cb1-629" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">user_activity_timeline_id =</span> <span class="fu">last</span>(user_activity_timeline_id))</span>
<span id="cb1-630"><a href="#cb1-630" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb1-631"><a href="#cb1-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-632"><a href="#cb1-632" aria-hidden="true" tabindex="-1"></a>last_page <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(last_page <span class="sc">|&gt;</span> </span>
<span id="cb1-633"><a href="#cb1-633" aria-hidden="true" tabindex="-1"></a>              <span class="fu">anti_join</span>(dupes_rm, <span class="at">by =</span> <span class="st">"session_id"</span>),</span>
<span id="cb1-634"><a href="#cb1-634" aria-hidden="true" tabindex="-1"></a>              last_page <span class="sc">|&gt;</span></span>
<span id="cb1-635"><a href="#cb1-635" aria-hidden="true" tabindex="-1"></a>                <span class="fu">inner_join</span>(dupes_rm, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"session_id"</span>, <span class="st">"user_activity_timeline_id"</span>))</span>
<span id="cb1-636"><a href="#cb1-636" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-637"><a href="#cb1-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-638"><a href="#cb1-638" aria-hidden="true" tabindex="-1"></a><span class="do">## last function they use of the myNZTE website</span></span>
<span id="cb1-639"><a href="#cb1-639" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb1-640"><a href="#cb1-640" aria-hidden="true" tabindex="-1"></a>  last_page <span class="sc">|&gt;</span> </span>
<span id="cb1-641"><a href="#cb1-641" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(<span class="st">`</span><span class="at">function</span><span class="st">`</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-642"><a href="#cb1-642" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb1-643"><a href="#cb1-643" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(<span class="st">`</span><span class="at">function</span><span class="st">`</span>, n), <span class="at">y =</span> n )) <span class="sc">+</span></span>
<span id="cb1-644"><a href="#cb1-644" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb1-645"><a href="#cb1-645" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>()</span>
<span id="cb1-646"><a href="#cb1-646" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-647"><a href="#cb1-647" aria-hidden="true" tabindex="-1"></a>  <span class="do">## last activity they use of the myNZTE website aross each session</span></span>
<span id="cb1-648"><a href="#cb1-648" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb1-649"><a href="#cb1-649" aria-hidden="true" tabindex="-1"></a>    last_page <span class="sc">|&gt;</span> </span>
<span id="cb1-650"><a href="#cb1-650" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(action) <span class="sc">|&gt;</span> </span>
<span id="cb1-651"><a href="#cb1-651" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb1-652"><a href="#cb1-652" aria-hidden="true" tabindex="-1"></a>        <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-653"><a href="#cb1-653" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(action, n), <span class="at">y =</span> n )) <span class="sc">+</span></span>
<span id="cb1-654"><a href="#cb1-654" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb1-655"><a href="#cb1-655" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_flip</span>()</span>
<span id="cb1-656"><a href="#cb1-656" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-657"><a href="#cb1-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-660"><a href="#cb1-660" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-661"><a href="#cb1-661" aria-hidden="true" tabindex="-1"></a><span class="co">#| include: false    </span></span>
<span id="cb1-662"><a href="#cb1-662" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-663"><a href="#cb1-663" aria-hidden="true" tabindex="-1"></a> <span class="do">## what's the bounce rate? number of single page session / total number of sessions</span></span>
<span id="cb1-664"><a href="#cb1-664" aria-hidden="true" tabindex="-1"></a> <span class="do">##</span></span>
<span id="cb1-665"><a href="#cb1-665" aria-hidden="true" tabindex="-1"></a>    (<span class="fu">nrow</span>(timeline_df[timeline_df<span class="sc">$</span>n_actions <span class="sc">==</span> <span class="dv">1</span>,])<span class="sc">/</span><span class="fu">nrow</span>(timeline_df))<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb1-666"><a href="#cb1-666" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-667"><a href="#cb1-667" aria-hidden="true" tabindex="-1"></a>  <span class="do">## monthly bounce rate</span></span>
<span id="cb1-668"><a href="#cb1-668" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb1-669"><a href="#cb1-669" aria-hidden="true" tabindex="-1"></a>    timeline_df  <span class="sc">|&gt;</span> </span>
<span id="cb1-670"><a href="#cb1-670" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">yearmonth =</span> <span class="fu">make_date</span>(<span class="at">year =</span> <span class="fu">year</span>(session_end), <span class="at">month =</span> <span class="fu">month</span>(session_end), <span class="at">day =</span> <span class="st">"01"</span>),</span>
<span id="cb1-671"><a href="#cb1-671" aria-hidden="true" tabindex="-1"></a>             <span class="at">bounce =</span> <span class="fu">ifelse</span>(n_actions <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"bounce"</span>, <span class="st">"stay"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-672"><a href="#cb1-672" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(yearmonth, bounce) <span class="sc">|&gt;</span> </span>
<span id="cb1-673"><a href="#cb1-673" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-674"><a href="#cb1-674" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> bounce,</span>
<span id="cb1-675"><a href="#cb1-675" aria-hidden="true" tabindex="-1"></a>                    <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb1-676"><a href="#cb1-676" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">rate =</span> (bounce <span class="sc">/</span> (bounce <span class="sc">+</span> stay) <span class="sc">*</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-677"><a href="#cb1-677" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span> rate, <span class="at">x =</span> yearmonth)) <span class="sc">+</span></span>
<span id="cb1-678"><a href="#cb1-678" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>()</span>
<span id="cb1-679"><a href="#cb1-679" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-680"><a href="#cb1-680" aria-hidden="true" tabindex="-1"></a>  <span class="do">## monthly bounce rate</span></span>
<span id="cb1-681"><a href="#cb1-681" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb1-682"><a href="#cb1-682" aria-hidden="true" tabindex="-1"></a>    timeline_df  <span class="sc">|&gt;</span></span>
<span id="cb1-683"><a href="#cb1-683" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(<span class="fu">month</span>(session_end) <span class="sc">!=</span> <span class="dv">2</span>) <span class="sc">|&gt;</span> </span>
<span id="cb1-684"><a href="#cb1-684" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">yearmonth =</span> <span class="fu">make_date</span>(<span class="at">year =</span> <span class="fu">year</span>(session_end), <span class="at">month =</span> <span class="fu">month</span>(session_end), <span class="at">day =</span> <span class="st">"01"</span>),</span>
<span id="cb1-685"><a href="#cb1-685" aria-hidden="true" tabindex="-1"></a>             <span class="at">bounce =</span> <span class="fu">ifelse</span>(n_actions <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"bounce"</span>, <span class="st">"stay"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-686"><a href="#cb1-686" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(yearmonth, bounce, organisation_nzte_segment) <span class="sc">|&gt;</span> </span>
<span id="cb1-687"><a href="#cb1-687" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb1-688"><a href="#cb1-688" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">c</span>(bounce),</span>
<span id="cb1-689"><a href="#cb1-689" aria-hidden="true" tabindex="-1"></a>                    <span class="at">values_from =</span> n) <span class="sc">|&gt;</span> </span>
<span id="cb1-690"><a href="#cb1-690" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">rate =</span> (bounce <span class="sc">/</span> (bounce <span class="sc">+</span> stay) <span class="sc">*</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-691"><a href="#cb1-691" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span> rate, <span class="at">x =</span> yearmonth, <span class="at">col =</span> organisation_nzte_segment)) <span class="sc">+</span></span>
<span id="cb1-692"><a href="#cb1-692" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>()</span>
<span id="cb1-693"><a href="#cb1-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-694"><a href="#cb1-694" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb1-695"><a href="#cb1-695" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Also how many actions per session? </span></span>
<span id="cb1-696"><a href="#cb1-696" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb1-697"><a href="#cb1-697" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(timeline_df <span class="sc">|&gt;</span>  <span class="fu">filter</span>(n_actions <span class="sc">&lt;</span> <span class="dv">50</span>), <span class="fu">aes</span>( <span class="at">x =</span> n_actions, <span class="at">fill =</span> organisation_nzte_segment)) <span class="sc">+</span></span>
<span id="cb1-698"><a href="#cb1-698" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_density</span>()</span>
<span id="cb1-699"><a href="#cb1-699" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-700"><a href="#cb1-700" aria-hidden="true" tabindex="-1"></a>  <span class="do">## </span></span>
<span id="cb1-701"><a href="#cb1-701" aria-hidden="true" tabindex="-1"></a>    timeline_df <span class="sc">|&gt;</span> </span>
<span id="cb1-702"><a href="#cb1-702" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(organisation_nzte_segment) <span class="sc">|&gt;</span> </span>
<span id="cb1-703"><a href="#cb1-703" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">av_actions =</span> <span class="fu">median</span>(n_actions))</span>
<span id="cb1-704"><a href="#cb1-704" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-705"><a href="#cb1-705" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-706"><a href="#cb1-706" aria-hidden="true" tabindex="-1"></a>    <span class="co">#`r fa(name = "person-pulling", fill = "#B5E5CF")`</span></span>
<span id="cb1-707"><a href="#cb1-707" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-708"><a href="#cb1-708" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>